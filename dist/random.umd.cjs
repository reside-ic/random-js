(function(f,S){typeof exports=="object"&&typeof module<"u"?S(exports):typeof define=="function"&&define.amd?define(["exports"],S):(f=typeof globalThis<"u"?globalThis:f||self,S(f.random={}))})(this,function(f){"use strict";var gt=Object.defineProperty;var Mt=(f,S,T)=>S in f?gt(f,S,{enumerable:!0,configurable:!0,writable:!0,value:T}):f[S]=T;var R=(f,S,T)=>Mt(f,typeof S!="symbol"?S+"":S,T);function S(r,e,t){if(e===0||t===0)return 0;if(t===1)return e;const o=t<=.5?t:1-t,i=e*o>=10?T(r,e,o):i0(r,e,o);return t<=.5?i:e-i}function T(r,e,t){const o=Math.sqrt(e*t*(1-t)),i=1.15+2.53*o,v=-.0873+.0248*i+.01*t,_=e*t+.5,M=.92-4.2/i,F=t/(1-t),a=(2.83+5.1/i)*o,s=Math.floor((e+1)*t);let u;for(;;){const c=r.random()-.5;let m=r.random();const p=.5-Math.abs(c),h=Math.floor((2*v/p+i)*c+_);if(p>=.07&&m<=M){u=h;break}if(h<0||h>e)continue;m=Math.log(m*a/(v/(p*p)+i));const E=(s+.5)*Math.log((s+1)/(F*(e-s+1)))+(e+1)*Math.log((e-s+1)/(e-h+1))+(h+.5)*Math.log(F*(e-h+1)/(h+1))+D(s)+D(e-s)-D(h)-D(e-h);if(m<=E){u=h;break}}return u}const L=[.08106146679532733,.04134069595540946,.02767792568499805,.02079067210376495,.016644691189821703,.013876128823071987,.011896709945892425,.010411265261971892,.00925546218270945,.008330563433359472];function D(r){return r<L.length?L[r]:o0(r)}function o0(r){const e=(r+1)*(r+1);return(1/12-(1/360-1/1260/e)/e)/(r+1)}function i0(r,e,t){let o=-1;do{const i=r.random();o=u0(i,e,t)}while(o<0);return o}function u0(r,e,t){const o=1-t,i=t/o,v=i*(e+1);let _=Math.pow(o,e),M=0;for(;r>=_;)r-=_,M++,_*=v/M-i;return M}function W(r){return-Math.log(r.random())}function X(r,e){return W(r)/e}const l0=2*Math.PI;function G(r){let e=0,t=0;do e=r.random(),t=r.random();while(e<Number.EPSILON);return Math.sqrt(-2*Math.log(e))*Math.cos(l0*t)}function $(r,e,t){return e+G(r)*t}var H={exports:{}},J;function f0(){return J||(J=1,function(r){var e=function(){var t=new DataView(new ArrayBuffer(8)),o=function(a,s,u){var c=-.16666666666666632,m=.00833333333332249,p=-.0001984126982985795,h=27557313707070068e-22,E=-25050760253406863e-24,U=158969099521155e-24,I,x,d,C=0;return t.setFloat64(0,a),C=t.getInt32(0),C&=2147483647,C<1044381696&&!(a|0)?a:(I=a*a,d=I*a,x=m+I*(p+I*(h+I*(E+I*U))),a+d*(c+I*x))},i=function(a,s){var u=1,c=.0416666666666666,m=-.001388888888887411,p=2480158728947673e-20,h=-27557314351390663e-23,E=2087572321298175e-24,U=-11359647557788195e-27,I,x,d,C,P,y=0;return t.setFloat64(0,a),y=t.getInt32(0),y&=2147483647,y<1044381696&&!(a|0)?u:(d=a*a,C=d*(c+d*(m+d*(p+d*(h+d*(E+d*U))))),y<1070805811?u-(.5*d-(d*C-a*s)):(y>1072234496?P=.28125:(t.setFloat64(0,P),t.setUint32(0,y-2097152),t.setUint32(4,0),P=t.getFloat64(0)),x=.5*d-P,I=u-P,I-(x-(d*C-a*s))))},v=function(a){var s,u,c=0,m=0,p=0,h=4503599627370496,E=1;if(t.setFloat64(0,a),m=t.getInt32(0),m&=2147483647,m<1070596096)return o(Math.PI*a);switch(s=-a,u=Math.floor(s),u!=s?(s*=.5,s=2*(s-Math.floor(s)),c=s*4|0):m>=1128267776?(s=p,c=0):(m<1127219200&&(u=s+h),c=t.getInt32(4),c&=1,s=c,c<<=2),c){case 0:s=o(Math.PI*s);break;case 1:case 2:s=i(Math.PI*(.5-s),p);break;case 3:case 4:s=o(Math.PI*(E-s));break;case 5:case 6:s=-i(Math.PI*(s-1.5),p);break;default:s=o(Math.PI*(s-2));break}return-s},_=function(a){var s=.5,u=1,c=3.141592653589793,m=.07721566490153287,p=.3224670334241136,h=.06735230105312927,E=.020580808432516733,U=.007385550860814029,I=.0028905138367341563,x=.0011927076318336207,d=.0005100697921535113,C=.00022086279071390839,P=.00010801156724758394,y=25214456545125733e-21,b0=44864094961891516e-21,r0=1.4616321449683622,_0=-.12148629053584961,I0=-3638676997039505e-33,k0=.48383612272381005,R0=-.1475877229945939,E0=.06462494023913339,C0=-.032788541075985965,F0=.01797067508118204,y0=-.010314224129834144,x0=.006100538702462913,P0=-.0036845201678113826,T0=.0022596478090061247,q0=-.0014034646998923284,A0=.000881081882437654,z0=-.0005385953053567405,N0=.00031563207090362595,O0=-.00031275416837512086,B0=.0003355291926355191,U0=-.07721566490153287,j0=.6328270640250934,D0=1.4549225013723477,V0=.9777175279633727,W0=.22896372806469245,G0=.013381091853678766,H0=2.4559779371304113,K0=2.128489763798934,L0=.7692851504566728,X0=.10422264559336913,$0=.003217092422824239,J0=-.07721566490153287,Q0=.21498241596060885,Y0=.325778796408931,Z0=.14635047265246445,tt=.02664227030336386,et=.0018402845140733772,rt=3194753265841009e-20,at=1.3920053346762105,nt=.7219355475671381,st=.17193386563280308,ot=.01864591917156529,it=.0007779424963818936,ut=7326684307446256e-21,lt=.4189385332046727,ft=.08333333333333297,ct=-.0027777777772877554,ht=.0007936505586430196,vt=-.00059518755745034,mt=.0008363399189962821,dt=-.0016309293409657527,q=0,A,n,l,a0=0,z,N,O,n0,s0,b,g,k=0,j=0,V=0,w=0;if(t.setFloat64(0,a),j=t.getInt32(0),V=t.getInt32(4),w=j&2147483647,w>=2146435072)return a*a;if(!(w|V))return u/q;if(w<999292928)return j<0?-Math.log(-a):-Math.log(a);if(j<0){if(w>=1127219200||(A=v(a),A==q))return u/q;a0=Math.log(c/Math.abs(A*a)),a=-a}if(!(w-1072693248|V)||!(w-1073741824|V))b=0;else if(w<1073741824)switch(w<=1072483532?(b=-Math.log(a),w>=1072130372?(n=u-a,k=0):w>=1070442081?(n=a-(r0-u),k=1):(n=a,k=2)):(b=q,w>=1073460419?(n=2-a,k=0):w>=1072936132?(n=a-r0,k=1):(n=a-u,k=2)),k){case 0:l=n*n,N=m+l*(h+l*(U+l*(x+l*(C+l*y)))),O=l*(p+l*(E+l*(I+l*(d+l*(P+l*b0))))),z=n*N+O,b+=z-.5*n;break;case 1:l=n*n,g=l*n,N=k0+g*(C0+g*(x0+g*(q0+g*N0))),O=R0+g*(F0+g*(P0+g*(A0+g*O0))),n0=E0+g*(y0+g*(T0+g*(z0+g*B0))),z=l*N-(I0-g*(O+n*n0)),b+=_0+z;break;case 2:N=n*(U0+n*(j0+n*(D0+n*(V0+n*(W0+n*G0))))),O=u+n*(H0+n*(K0+n*(L0+n*(X0+n*$0)))),b+=-.5*n+N/O}else if(w<1075838976)switch(k=a|0,A=q,n=a-k,z=n*(J0+n*(Q0+n*(Y0+n*(Z0+n*(tt+n*(et+n*rt)))))),s0=u+n*(at+n*(nt+n*(st+n*(ot+n*(it+n*ut))))),b=s*n+z/s0,l=u,k){case 7:l*=n+6;case 6:l*=n+5;case 5:l*=n+4;case 4:l*=n+3;case 3:l*=n+2,b+=Math.log(l);break}else w<1133510656?(A=Math.log(a),l=u/a,n=l*l,g=lt+l*(ft+n*(ct+n*(ht+n*(vt+n*(mt+n*dt))))),b=(a-s)*(A-u)+g):b=a*(Math.log(a)-u);return j<0&&(b=a0-b),b},M=function(a){return _(a)},F=function(a){return Math.exp(_(a))};return{lngamma:M,gamma:F}}();r.exports=e}(H)),H.exports}var c0=f0();function Q(r,e){return e<10?v0(r,e):m0(r,e)}const h0=2**31-1;function v0(r,e){let t=0;const o=Math.exp(-e);let i=1;for(;;){const v=r.random();if(i=i*v,i<=o&&t<=h0)break;t++}return t}function m0(r,e){let t=0;const o=Math.log(e),i=.931+2.53*Math.sqrt(e),v=-.059+.02483*i,_=1.1239+1.1328/(i-3.4);for(;;){let M=r.random();M-=.5;const F=r.random(),a=.5-Math.abs(M),s=Math.floor((2*v/a+i)*M+e+.43);if(a>=.07&&F<=.9277-3.6224/(i-2)){t=s;break}if(s<0||a<.013&&F>a)continue;const u=Math.log(F*_/(v/(a*a)+i)),c=-e+s*o-c0.lngamma(s+1);if(u<=c){t=s;break}}return t}function K(r){return r.random()}function Y(r,e,t){return K(r)*(t-e)+e}class d0{constructor(e){R(this,"state");this.state=e}randomExponential(){return W(this.state)}randomNormal(){return G(this.state)}randomUniform(){return K(this.state)}binomial(e,t){return S(this.state,e,t)}exponential(e){return X(this.state,e)}normal(e,t){return $(this.state,e,t)}poisson(e){return Q(this.state,e)}uniform(e,t){return Y(this.state,e,t)}}class B{setSeed(e){throw Error("This generator cannot be seeded (really!)")}getState(){throw Error("This generator cannot return its state")}setState(e){throw Error("This generator set its state")}}const g0=4294967296,Z=23283064365386963e-26;function M0(){let r=4022871197;return e=>{for(let t=0;t<e.length;t++){r+=e.charCodeAt(t);let o=.02519603282416938*r;r=o>>>0,o-=r,o*=r,r=o>>>0,o-=r,r+=o*g0}return(r>>>0)*Z}}function w0(r){const e=M0();let t=e(" "),o=e(" "),i=e(" ");const v=1;return r.forEach(_=>{const M=_.toString();t-=e(M),t<0&&(t+=1),o-=e(M),o<0&&(o+=1),i-=e(M),i<0&&(i+=1)}),[t,o,i,v]}class S0 extends B{constructor(t=null,o){super();R(this,"s0");R(this,"s1");R(this,"s2");R(this,"c");const i=t!==null,v=o!==void 0;if(i&&v)throw Error("Can't provide both initial seed and state");v?this.setState(o):this.setSeed(t)}random(){const t=2091639*this.s0+this.c*Z;return this.s0=this.s1,this.s1=this.s2,this.s2=t-(this.c=t|0)}setSeed(t){const o=w0([t||Math.random()]);this.setState(o)}getState(){return[this.s0,this.s1,this.s2,this.c]}setState(t){if(t.length!==4)throw Error(`Expected state to have length 4 (but was ${t.length})`);this.s0=t[0],this.s1=t[1],this.s2=t[2],this.c=t[3]}}class t0 extends B{constructor(){super()}random(){return Math.random()}}class e0 extends B{constructor(t){super();R(this,"_i");R(this,"_values");this._i=0,this._values=t}random(){const t=this._values[this._i++];if(this._i>this._values.length)throw Error("Exhausted stream");return t}length(){return this._values.length-this._i}}class p0 extends B{constructor(t){super();R(this,"_state");R(this,"_values");t===void 0&&(t=new t0),this._state=t,this._values=[]}random(){const t=this._state.random();return this._values.push(t),t}replay(){return new e0(this._values)}length(){return this._values.length}values(){return this._values}}f.Random=d0,f.RngState=B,f.RngStateAlea=S0,f.RngStateBuiltin=t0,f.RngStateObserved=p0,f.RngStateReplay=e0,f.binomial=S,f.exponential=X,f.normal=$,f.poisson=Q,f.randomExponential=W,f.randomNormal=G,f.randomUniform=K,f.uniform=Y,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
